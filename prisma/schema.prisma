generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ==================== AUTH ====================

model User {
  id            String    @id @default(cuid())
  name          String
  email         String    @unique
  password      String
  role          Role      @default(EDITOR)
  image         String?
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  blogPosts     BlogPost[]
}

enum Role {
  ADMIN
  EDITOR
}

// ==================== PROJECTS ====================

model Project {
  id            String    @id @default(cuid())
  slug          String    @unique
  titleEn       String
  titleAr       String
  descriptionEn String    @db.Text
  descriptionAr String    @db.Text
  category      ProjectCategory
  images        ProjectImage[]
  timeline      ProjectTimeline[]
  yearCompleted Int?
  location      String?
  clientName    String?
  clientLogo    String?
  finalRevealTitleEn    String?
  finalRevealTitleAr    String?
  finalRevealSubtitleEn String?  @db.Text
  finalRevealSubtitleAr String?  @db.Text
  featured      Boolean   @default(false)
  status        Status    @default(DRAFT)
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

model ProjectImage {
  id        String   @id @default(cuid())
  url       String
  alt       String?
  order     Int      @default(0)
  section   String   @default("gallery")
  projectId String
  project   Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)
}

model ProjectTimeline {
  id            String   @id @default(cuid())
  titleEn       String
  titleAr       String
  descriptionEn String   @db.Text
  descriptionAr String   @db.Text
  image         String?
  order         Int      @default(0)
  projectId     String
  project       Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)
}

enum ProjectCategory {
  RESIDENTIAL
  COMMERCIAL
  INTERIOR
  URBAN
  LANDSCAPE
  RENOVATION
}

// ==================== TEAM ====================

model TeamMember {
  id        String   @id @default(cuid())
  nameEn    String
  nameAr    String
  roleEn    String
  roleAr    String
  bioEn     String?  @db.Text
  bioAr     String?  @db.Text
  photo     String?
  email     String?
  linkedin  String?
  order     Int      @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// ==================== SERVICES ====================

model Service {
  id            String   @id @default(cuid())
  titleEn       String
  titleAr       String
  descriptionEn String   @db.Text
  descriptionAr String   @db.Text
  icon          String?
  image         String?
  order         Int      @default(0)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

// ==================== BLOG ====================

model BlogPost {
  id            String       @id @default(cuid())
  slug          String       @unique
  titleEn       String
  titleAr       String
  contentEn     String       @db.Text
  contentAr     String       @db.Text
  excerptEn     String?
  excerptAr     String?
  featuredImage String?
  authorId      String
  author        User         @relation(fields: [authorId], references: [id])
  category      BlogCategory
  tags          String[]
  publishedAt   DateTime?
  status        Status       @default(DRAFT)
  createdAt     DateTime     @default(now())
  updatedAt     DateTime     @updatedAt
}

enum BlogCategory {
  NEWS
  INSIGHTS
  PROJECTS
  AWARDS
  EVENTS
}

// ==================== SETTINGS ====================

model SiteSettings {
  id              String   @id @default("main")
  companyNameEn   String   @default("Criteria Designs")
  companyNameAr   String   @default("")
  addressEn       String?
  addressAr       String?
  phone           String?
  email           String?
  facebook        String?
  instagram       String?
  linkedin        String?
  twitter         String?
  logo            String?
  favicon         String?
  heroImage       String?
  heroVideo       String?
  philosophyImage        String?
  philosophyCultureImage String?
  philosophyNatureImage  String?
  philosophyArtImage     String?
  seoTitleEn      String?
  seoTitleAr      String?
  seoDescriptionEn String?
  seoDescriptionAr String?

  // Showcase Projects (homepage scroll showcase)
  showcaseProject1Id String?
  showcaseProject2Id String?
  showcaseProject3Id String?
  showcaseProject4Id String?
  showcaseProject5Id String?

  // CEO Banner
  ceoNameEn        String?
  ceoNameAr        String?
  ceoTitleEn       String?
  ceoTitleAr       String?
  ceoImage         String?
  ceoBgImage       String?
  ceoStat1Number   String?
  ceoStat1LabelEn  String?
  ceoStat1LabelAr  String?
  ceoStat1DescEn   String?
  ceoStat1DescAr   String?
  ceoStat2Number   String?
  ceoStat2LabelEn  String?
  ceoStat2LabelAr  String?
  ceoStat3Number   String?
  ceoStat3LabelEn  String?
  ceoStat3LabelAr  String?
  ceoStat4Number   String?
  ceoStat4LabelEn  String?
  ceoStat4LabelAr  String?
  ceoLogo1         String?
  ceoLogo2         String?
  ceoLogo3         String?
  ceoLogo4         String?
  ceoLogo5         String?
  ceoBtnTextEn     String?
  ceoBtnTextAr     String?
  ceoBtnLink       String?

  updatedAt       DateTime @updatedAt
}

// ==================== CLIENTS ====================

model Client {
  id        String   @id @default(cuid())
  nameEn    String
  logo      String?
  bgColor   String   @default("#FFFFFF")
  order     Int      @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// ==================== AWARDS ====================

model Award {
  id         String   @id @default(cuid())
  titleEn    String
  titleAr    String
  year       Int
  subtitleEn String?
  subtitleAr String?
  image      String?
  order      Int      @default(0)
  status     Status   @default(DRAFT)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

// ==================== MEDIA ====================

model Media {
  id        String   @id @default(cuid())
  filename  String
  url       String
  mimeType  String
  size      Int
  alt       String?
  createdAt DateTime @default(now())
}

// ==================== SHARED ENUMS ====================

enum Status {
  DRAFT
  PUBLISHED
}
